!function(o,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("$"));else if("function"==typeof define&&define.amd)define(["$"],t);else{var e="object"==typeof exports?t(require("$")):t(o.$);for(var n in e)("object"==typeof exports?exports:o)[n]=e[n]}}(window,(function(o){return function(o){var t={};function e(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return o[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=o,e.c=t,e.d=function(o,t,n){e.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:n})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,t){if(1&t&&(o=e(o)),8&t)return o;if(4&t&&"object"==typeof o&&o&&o.__esModule)return o;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var a in o)e.d(n,a,function(t){return o[t]}.bind(null,a));return n},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},e.p="",e(e.s=39)}({0:function(t,e){t.exports=o},1:function(o,t,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function a(o){return void 0===o?"undefined":"object"!==n(o)||o?{}.toString.call(o).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}e.r(t),e.d(t,"default",(function(){return a})),e.d(t,"isVisible",(function(){return p})),e.d(t,"isHidden",(function(){return r})),e.d(t,"photoRegex",(function(){return u})),e.d(t,"CSS_TRANSISTION_DELAY",(function(){return c}));var p=function(o){return null!==o.offsetParent||!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},r=function(o){return!p(o)},u=/\.(gif|png|jp(g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$|(\?|&|&amp;)(image|ext\=\.(gif|png|jp(g|eg)|bmp|ico|webp|jxr|svg))?$/i,c=100},12:function(o,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return f}));var n=e(0),a=e.n(n),p=e(2),r=e(7),u=e(1),c=e(3),s=e(5);function i(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function l(o,t,e){return t&&i(o.prototype,t),e&&i(o,e),o}var d="".concat("Popup","_instance"),f=function(){function o(t,e,n){!function(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var u=this,c=Object(p.default)(a()(t).data("popup-options")),s="popup_"+Object(r.default)(),i={popupID:s,src:a()(t).data("popup-src")||a()(t).attr("href")||null,caption:a()(t).data("popup-caption")||"",title:a()(t).data("popup-title")||a()(t).attr("title")||""};return u.$element=a()(t),a.a.store.set(t,"".concat("Popup","_params"),a.a.extend(o.defaults,i,e,c)),u.params=a.a.store.get(t,"".concat("Popup","_params")),u.params.useLocationHash&&s===u.params.popupID&&console.warn("If loading from a location hash please make sure to specify an ID not auto generated. This won't work should the page get reloaded."),u.key={ARROWLEFT:"ArrowLeft",ARROWRIGHT:"ArrowRight",ESCAPE:"Escape"},u.$popup=null,u.elemGrabbedLocation=null,u.grabContentsFromDom=!1,u.currentElem=null,u.currentSrc=null,u.$listElems=u.params.isJsArray?u.params.src:null,u.groupAmountElem=null,u.$domClickElem=null,u.domElemClicked=!1,u.groupCount=0,u.groupIndex=0,u.isOpen=!1,u.isOpenHash="",u.historyID="#"+u.params.popupID+(0===n?"":"__"+n),u.loadedFromHash=!1,u.initLoadEvents(),this}return l(o,null,[{key:"version",get:function(){return"1.0.6"}},{key:"pluginName",get:function(){return"Popup"}},{key:"defaults",get:function(){return{popupID:null,src:null,title:null,caption:null,popupOuterClass:"",titleElem:"h3",titleCss:"",clickOutsideClose:!0,fadeOut:500,fadeIn:400,zIndex:2e3,vhDivisor:2,firstAnchorFocus:!0,setTopPosition:null,isImage:!1,isJsArray:!1,escapeClose:!0,group:!0,showGroupAmount:!1,groupOfHTML:"/",launch:!1,photoRegex:u.photoRegex,closeText:'<i class="icon-close"><span class="sr-only">Close</span></i>',prevBtnHTML:'<i class="icon-arrow-l"><span class="sr-only">Previous</span></i>',nextBtnHTML:'<i class="icon-arrow-r"><span class="sr-only">Next</span></i>',loadingHTML:'<div class="popup__loader"></div>',appendPopupTo:"body",showPopup:"popup--show-popup",enableEvent:"click",useHashFilter:null,loadLocationHash:!0,useLocationHash:!0,afterLoaded:function(){},afterClose:function(){},onClose:function(){}}}}]),l(o,[{key:"getHistoryEntry",value:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,e=o?"":t.historyID;return Object(s.default)(t,e)}},{key:"initLoadEvents",value:function(){var o=this,t=o.params,e=t.launch,n=t.useHashFilter,p=t.loadLocationHash;o.$element.on("".concat(o.params.enableEvent,".").concat("popup").concat(o.params.popupID," ").concat("popup").concat(o.params.popupID),(function(t){var e=o.params.useLocationHash;t.preventDefault(),e&&window.history.pushState(null,null,o.getHistoryEntry()),o.isOpen?o._close():o.loadPopup(this)})),a()(window).on("popstate.".concat("popup").concat(o.params.popupID," ").concat("popup").concat(o.params.popupID),(function(t){var e=o.params,n=e.useLocationHash,a=e.useHashFilter;n&&(o.historyID!==o.isOpenHash&&o.historyID!==(a?Object(c.getHashParam)(a):location.hash)||(o.isOpen?o._close():o.loadPopup(o.$element))),t.preventDefault()})),e&&o.loadPopup(document.activeElement),p&&o.historyID===(n?Object(c.getHashParam)(n):location.hash)&&(o.loadPopup(o.$element),o.loadedFromHash=!0)}},{key:"loadPopup",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,e=t.params,n=e.escapeClose,p=e.useHashFilter;o&&(t.$domClickElem=a()(o),t.domElemClicked=!0),t.isOpenHash=p?Object(c.getHashParam)(p):location.hash,t.addToDOM(),t.closeHandlers(),n&&t.escapeClose(),t.isOpen=!0}},{key:"addToDOM",value:function(){var o=this,t=o.params,e=t.fadeIn,n=t.appendPopupTo,p=t.firstAnchorFocus;o.createPopup(),a()(n).append(o.$popup),p&&setTimeout((function(){var t=o.$popup.find("[tabindex], a, input, textarea").not("[tabindex='-1'],.popup__btn-close").eq(0);t.length?t[0].focus():o.$popup.find(".popup__btn-close")[0].focus()}),e+100),o.animationIn()}},{key:"determineContent",value:function(){var o=this,t=o.params,e=t.isJsArray,n=t.popupID,p=t.group;o._replaceContent();var r,c,s,i,l=!1;if(e)c=(r=o.$listElems[o.groupIndex]).src,s=r.title,i=r.caption,o.groupCount=o.$listElems.length;else{if(o.$listElems=a()("string"==typeof p?p:o.params.src),o.domElemClicked){for(var d=0,f=o.$listElems.length;d<f;d++)if(o.$listElems[d].isSameNode(o.$domClickElem[0])){o.groupIndex=d;break}o.domElemClicked=!1}(c=(r=o.$listElems.eq(o.groupIndex)).data("popup-src")||r.attr("href")||null)?l=/^(\#|\.)/.test(c):(c=r,l=!0),o.groupCount=o.$listElems.length,s=r.data("popup-title")||r.attr("title"),i=r.data("popup-caption")}o.currentElem=r,o.currentSrc=c;var m=l&&!e&&!!l&&Object(u.isHidden)(a()(c)[0]);o.grabContentsFromDom=m,m&&(o.elemGrabbedLocation=a()("<span/>").attr({id:"orig-loc_"+n}),a()(c).after(o.elemGrabbedLocation)),s&&(o.params.title=s),i&&(o.params.caption=i)}},{key:"placeContent",value:function(){var o=this,t=o.params,e=t.caption,n=t.isJsArray,p=t.titleElem,r=t.titleCss,u=t.title,c=t.showGroupAmount,s=t.popupID,i=t.loadingHTML,l=t.isImage,d=o.currentElem,f=o.currentSrc,m=o.$popup.find(".popup__content-body"),v=l||o.params.photoRegex.test(f)||(n?"img"===d.nodeName:"image"===d.data("popup-type"));if(o.$popup.find("#".concat(s,"__title")).html(u?"<".concat(p,' class="').concat(r,'">').concat(u,"</").concat(p,">"):""),o.$popup.find("#".concat(s,"__caption")).html(e),m.html(""),v){var g=new Image;g.src=f,g.alt=u||"";var h="";g.complete||(g.style.opacity="0",h=a()("<div/>").attr({class:"popup__loader-outer"}).html(i)),m.append(g,h),a()(g).on("load.".concat("popup"),(function(){a()(".popup__loader-outer").remove(),g.removeAttribute("style"),m.css({"min-height":m.find("img").height()})}))}else m.append(a()(f)).css({"min-height":"0px"});c&&o.groupAmountElem.html("<span>".concat(o.groupIndex+1,'</span> <span class="popup__group-divisor">').concat(o.params.groupOfHTML,"</span> <span>").concat(o.groupCount,"</span>"))}},{key:"createPopup",value:function(){var o=this,t=o.params,e=t.popupID,n=t.group,p=t.prevBtnHTML,r=t.nextBtnHTML,u=t.showGroupAmount;o.determineContent();var c=null;if(o.groupCount>1&&("string"==typeof n||n)){var s=a()("<button>").attr({type:"button",class:"btn--popup btn--popup-prev"}).append(p),i=a()("<button>").attr({type:"button",class:"btn--popup btn--popup-next"}).append(r);c=a()("<div/>").attr({class:"popup__controls"}).append(s,i)}u?(o.groupAmountElem=a()("<div/>").attr({class:"popup__group-count"}),o.groupAmountElem.html("".concat(o.groupIndex+1," ").concat(o.params.groupOfHTML," ").concat(o.groupCount))):o.groupAmountElem=null;var l='<div id="'.concat(e,'-title" class="popup__title">').concat(o.params.title,"</div>"),d='<div id="'.concat(e,'-caption" class="popup__caption">').concat(o.params.caption,"</div>"),f=a()("<div/>").attr({class:"popup__overlay"}),m=a()("<div/>").attr({class:"popup__content"}),v=a()("<div/>").attr({class:"popup__content-body"}),g=o.params.closeText?a()("<a/>").attr({class:"popup__btn-close",href:"#"}).html(o.params.closeText):"",h=m.append(g,l,v,d,c,o.groupAmountElem),y=a()("<div/>").attr({class:"popup ".concat(o.params.popupOuterClass),id:e,role:"dialog",tabindex:"-1","aria-labelledby":e+"-title",style:"z-index: ".concat(o.params.zIndex)}).append(f,h);o.$popup=y,o.placeContent(),o.groupControls(),o.params.afterLoaded(o.$element,e)}},{key:"toggleGroup",value:function(o,t){var e=this,n=e.groupCount-1,a=e.groupIndex;t&&(a=a===n?a=0:a+=1),o&&(a=0===a?a=n:a-=1),e.groupIndex=a,e.determineContent(),e.placeContent()}},{key:"groupControls",value:function(){var o=this;o.groupCount>1&&(a()(document).on("keydown.".concat("popup").concat(o.params.popupID,"groupcontrols"),(function(t){var e=(t||window.event).key;e!=o.key.ARROWLEFT&&e!=o.key.ARROWRIGHT||o.toggleGroup(e==o.key.ARROWLEFT,e==o.key.ARROWRIGHT)})),o.$popup.on("click.".concat("popup").concat(o.params.popupID),".btn--popup-prev",(function(){o.toggleGroup(!0,!1)})).on("click.".concat("popup").concat(o.params.popupID),".btn--popup-next",(function(){o.toggleGroup(!1,!0)})))}},{key:"animationIn",value:function(){var o=this,t=o.params,e=t.vhDivisor,n=t.setTopPosition,p=t.fadeIn,r=t.showPopup,c=o.$popup,s=0===e?0:a()(window).height()/e,i=n||0===n?"function"==typeof n?n():n:Math.max(0,s+document.querySelector("html").scrollTop),l=c.find(".popup__content");c.css({display:""}),l.css({position:"absolute",top:i}),a()("body").css({"overflow-x":"hidden"}),setTimeout((function(){o.$popup.addClass(r),l.addClass(r)}),u.CSS_TRANSISTION_DELAY),setTimeout((function(){a()("body").css({"overflow-x":""})}),p)}},{key:"closeHandlers",value:function(){var o=this,t=o.params.clickOutsideClose?".popup__overlay,.popup__btn-close":".popup__btn-close";o.$popup.on("click.".concat("popup").concat(o.params.popupID),t,(function(t){t.preventDefault(),o._closeEvent()}))}},{key:"escapeClose",value:function(){var o=this;a()(document).on("keydown.".concat("popup").concat(o.params.popupID),(function(t){(t||window.event).key===o.key.ESCAPE&&o._closeEvent()}))}},{key:"_closeEvent",value:function(){var o=this;o.params.useLocationHash&&window.history.pushState(null,null,o.getHistoryEntry(!0)),o._close()}},{key:"_close",value:function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,e=t.params,n=e.showPopup,p=e.fadeOut,r="#"+t.params.popupID;t.$popup.removeClass(n),t.params.onClose(t.$element,r),a()(document).off("keydown.".concat("popup").concat(t.params.popupID)),setTimeout((function(){t.params.afterClose(t.$element,r),t.isOpen=!1,t._replaceContent(),a()(r).remove(),o&&a()(t.$domClickElem)[0].focus(),t.isOpenHash=""}),p+1)}},{key:"_replaceContent",value:function(){var o=this;o.grabContentsFromDom&&(a()(o.elemGrabbedLocation).after(a()(o.currentSrc)),o.elemGrabbedLocation.remove(),o.grabContentsFromDom=!1)}}],[{key:"close",value:function(o){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=a.a.store.get(o,d)||o;e&&e._close(t)}},{key:"remove",value:function(o){if(o){var t=a.a.store.get(o,"".concat("Popup","_params"));a.a.store.remove(o,d),a()(o).off("".concat(t.enableEvent,".").concat("popup").concat(t.popupID)),a()(o).off("".concat("popup").concat(t.popupID)),a()(document).off("keydown.".concat("popup").concat(t.popupID,"groupcontrols")),a()(document).off("keydown.".concat("popup").concat(t.popupID)),a.a.store.remove(o,"".concat("Popup","_params"))}}},{key:"show",value:function(o){var t=a.a.store.get(o,d);t&&t.loadPopup(o)}}]),o}()},2:function(o,t,e){"use strict";function n(o){return"string"==typeof o&&(o=JSON.parse(o.replace(/:\s*"([^"]*)"/g,(function(o,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/:\s*'([^']*)'/g,(function(o,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))),o}e.r(t),e.d(t,"default",(function(){return n}))},3:function(o,t,e){"use strict";e.r(t),e.d(t,"getHashParam",(function(){return a}));var n=function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?&",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"([^&#]*)|&|#|$";o=o.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[".concat(e,"]").concat(o,"(=").concat(n,")")),p=a.exec(t);return p?p[2]?decodeURIComponent(p[2].replace(/\+/g," ")):"":null},a=function(o){return n(o,location.hash,"#&","([^&;]*)|&|#|$")};t.default=function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search;return n(o,t)}},39:function(o,t,e){o.exports=e(12)},5:function(o,t,e){"use strict";e.r(t);var n=e(3);t.default=function(o,t){var e=o.params.useHashFilter,a=window.location.hash,p=t;if(e){var r="".concat(e,"=").concat(t),u="".concat(e,"=").concat(Object(n.getHashParam)(e));p=""!==a?a.match(u)?a.replace(u,r):"".concat(a,"&").concat(r):r}return""===p&&(p="#"),"#"+p.replace(/#/g,"")}},7:function(o,t,e){"use strict";e.r(t);var n=void 0!==window.crypto&&void 0!==window.crypto.getRandomValues?function(){var o=new Uint16Array(8);window.crypto.getRandomValues(o);var t=function(o){for(var t=o.toString(16);t.length<4;)t="0"+t;return t};return t(o[0])+t(o[1])+"-"+t(o[2])+"-"+t(o[3])+"-"+t(o[4])+"-"+t(o[5])+t(o[6])+t(o[7])}:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(o){var t=16*Math.random()|0;return("x"==o?t:3&t|8).toString(16)}))};t.default=n}})}));